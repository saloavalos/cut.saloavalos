<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body { 
            margin: 0; 
            background-color: #1e272e;
            background-image: url('images/bg.jpg');
            background-repeat: no-repeat;
            background-size: auto;
            background-position: top;
        }
        canvas { display: block; }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>

</head>
<body>
    
    <script>
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

        var renderer = new THREE.WebGLRenderer({alpha: true});
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );

        renderer.shadowMap.enabled = true;

        var ejes = new THREE.AxesHelper( 100 );
        scene.add(ejes);

        var spotLight = new THREE.SpotLight( 0xffffff );
        spotLight.position.set( -80, 170, 0 );
        spotLight.castShadow = true;
        scene.add( spotLight );

        

        //Crear una esfera
        var sunGeometry= new THREE.SphereGeometry(15,30,30);
        var sunTexture = new THREE.TextureLoader().load("images/sun.jpg");
        var sunMaterial = new THREE.MeshLambertMaterial({map: sunTexture});
        var sun = new THREE.Mesh(sunGeometry, sunMaterial);
        sun.castShadow = true;
        sun.receiveShadow = true;
        //Posición de la esfera
        sun.position.x=0;
        sun.position.y=5;
        sun.position.z=0;

        //Agregar la esfera a la escena
        scene.add(sun);
            

        ///////////////
        var planet1Geometry= new THREE.SphereGeometry(3,30,30);
        var planet1Texture = new THREE.TextureLoader().load("images/p1.png");
        var planet1Material = new THREE.MeshLambertMaterial({map: planet1Texture});
        var planet1 = new THREE.Mesh(planet1Geometry, planet1Material);
        planet1.castShadow = true;
        planet1.receiveShadow = true;
        //Posición de la esfera
        planet1.position.x= 11;
        planet1.position.y= 5;
        planet1.position.z= 15;

        //Agregar la esfera a la escena
        scene.add(planet1);
        ///////////////
        ///////////////
        var planet2Geometry= new THREE.SphereGeometry(4,30,30);
        var planet2Texture = new THREE.TextureLoader().load("images/p2.jpg");
        var planet2Material = new THREE.MeshLambertMaterial({map: planet2Texture});
        var planet2 = new THREE.Mesh(planet2Geometry, planet2Material);
        planet2.castShadow = true;
        planet2.receiveShadow = true;
        //Posición de la esfera
        planet2.position.x= -10;
        planet2.position.y= 5;
        planet2.position.z= -20;

        //Agregar la esfera a la escena
        scene.add(planet2);
        ///////////////
        ///////////////
        var planet3Geometry= new THREE.SphereGeometry(6,30,30);
        var planet3Texture = new THREE.TextureLoader().load("images/p3.jpg");
        var planet3Material = new THREE.MeshLambertMaterial({map: planet3Texture});
        var planet3 = new THREE.Mesh(planet3Geometry, planet3Material);
        planet3.castShadow = true;
        planet3.receiveShadow = true;
        //Posición de la esfera
        planet3.position.x= -30;
        planet3.position.y= 5;
        planet3.position.z= -10;

        //Agregar la esfera a la escena
        scene.add(planet3);
        ///////////////
        ///////////////
        var planet4Geometry= new THREE.SphereGeometry(5,30,30);
        var planet4Texture = new THREE.TextureLoader().load("images/p4.jpg");
        var planet4Material = new THREE.MeshLambertMaterial({map: planet4Texture});
        var planet4 = new THREE.Mesh(planet4Geometry, planet4Material);
        planet4.castShadow = true;
        planet4.receiveShadow = true;
        //Posición de la esfera
        planet4.position.x= -30;
        planet4.position.y= 5;
        planet4.position.z= 25;

        //Agregar la esfera a la escena
        scene.add(planet4);
        ///////////////
        ///////////////
        var planet5Geometry= new THREE.SphereGeometry(7.5,30,30);
        var planet5Texture = new THREE.TextureLoader().load("images/p5.jpg");
        var planet5Material = new THREE.MeshLambertMaterial({map: planet5Texture});
        var planet5 = new THREE.Mesh(planet5Geometry, planet5Material);
        planet5.castShadow = true;
        planet5.receiveShadow = true;
        //Posición de la esfera
        planet5.position.x= -10;
        planet5.position.y= 5;
        planet5.position.z= 47;

        //Agregar la esfera a la escena
        scene.add(planet5);
        ///////////////
        ///////////////
        var planet6Geometry= new THREE.SphereGeometry(13.5,30,30);
        var planet6Texture = new THREE.TextureLoader().load("images/p6.jpg");
        var planet6Material = new THREE.MeshLambertMaterial({map: planet6Texture});
        var planet6 = new THREE.Mesh(planet6Geometry, planet6Material);
        planet6.castShadow = true;
        planet6.receiveShadow = true;
        //Posición de la esfera
        planet6.position.x= 80;
        planet6.position.y= 5;
        planet6.position.z= -67;

        //Agregar la esfera a la escena
        scene.add(planet6);
        ///////////////
        ///////////////
        var planet7Geometry= new THREE.SphereGeometry(11.7,30,30);
        var planet7Texture = new THREE.TextureLoader().load("images/p7.jpg");
        var planet7Material = new THREE.MeshLambertMaterial({map: planet7Texture});
        var planet7 = new THREE.Mesh(planet7Geometry, planet7Material);
        planet7.castShadow = true;
        planet7.receiveShadow = true;
        //Posición de la esfera
        planet7.position.x= 160;
        planet7.position.y= 5;
        planet7.position.z= -5;

        //Agregar la esfera a la escena
        scene.add(planet7);
        ///////////////
        ///////////////
        var planet8Geometry= new THREE.SphereGeometry(11.2,30,30);
        var planet8Texture = new THREE.TextureLoader().load("images/p8.jpg");
        var planet8Material = new THREE.MeshLambertMaterial({map: planet8Texture});
        var planet8 = new THREE.Mesh(planet8Geometry, planet8Material);
        planet8.castShadow = true;
        planet8.receiveShadow = true;
        //Posición de la esfera
        planet8.position.x= 205;
        planet8.position.y= 5;
        planet8.position.z= 55;

        //Agregar la esfera a la escena
        scene.add(planet8);
        ///////////////





        //camera.position.z = 5;
        //Posicionamos la cámara y hacemos que apunte al centro de la escena.
        camera.position.x = -60;
        camera.position.y = 40;
        camera.position.z = 60;
        camera.lookAt(scene.position);



        //Variable para controlar el ángulo de rotación de la cámara
        var ang=1;


        function animate() {
            requestAnimationFrame( animate );

            // para girar la camara alrededor del sistema solar
            ang +=0.01;
            var x= 90 * Math.cos(ang);
            var z= 90 * Math.sin(ang);
            //En el eje y se mantiene una posición uniforme, es decir,
            // la cámara esta siempre a la misma altura
            camera.position.x = x;
            camera.position.z = z;
            camera.lookAt( scene.position );
            //

            // girar cada planeta
            planet1.rotation.y += 0.02;
            planet2.rotation.y += 0.02;
            planet3.rotation.y += 0.02;
            planet4.rotation.y += 0.02;
            planet5.rotation.y += 0.02;
            planet6.rotation.y += 0.02;
            planet7.rotation.y += 0.02;
            planet8.rotation.y += 0.02;


            renderer.render( scene, camera );
        }
        animate();
    </script>

    <audio autoplay loop>
        <source src="galaxy.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
</body>
</html>